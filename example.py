from balancer import Balancer, BALANCER_IP
from helpers import parse_arguments, bind_socket


countries = {
    'afghanistan': 'kabul',
    'albania': 'tirana',
    'algeria': 'algiers',
    'andorra': 'andorralavella',
    'angola': 'luanda',
    'antigua': 'saintjohns',
    'argentina': 'buenosaires',
    'armenia': 'yerevan',
    'australia': 'canberra',
    'austria': 'vienna',
    'azerbaijan': 'baku',
    'bahamas': 'nassau',
    'bahrain': 'manama',
    'bangladesh': 'dhaka',
    'barbados': 'bridgetown',
    'belarus': 'minsk',
    'belgium': 'brussels',
    'belize': 'belmopan',
    'benin': 'portonovo',
    'bhutan': 'thimphu',
    'bolivia': 'lapaz',
    'bosnia': 'sarajevo',
    'botswana': 'gaborone',
    'brazil': 'brasilia',
    'brunei': 'bandarseribegawan',
    'bulgaria': 'sofia',
    'burkinafaso': 'ouagadougou',
    'burundi': 'bujumbura',
    'cambodia': 'phnompenh',
    'cameroon': 'yaounde',
    'canada': 'ottawa',
    'capeverde': 'praia',
    'centralafricanrepublic': 'bangui',
    'chad': 'ndjamena',
    'chile': 'santiago',
    'china': 'beijing',
    'colombia': 'bogota',
    'comoros': 'moroni',
    'congo': 'kinshasa',
    'costarica': 'sanjose',
    'cotedivoire': 'abidjan',
    'croatia': 'zagreb',
    'cuba': 'havana',
    'cyprus': 'nicosia',
    'czechrepublic': 'prague',
    'denmark': 'copenhagen',
    'djibouti': 'djibouti',
    'dominica': 'roseau',
    'dominicanrepublic': 'santodomingo',
    'easttimor': 'dili',
    'ecuador': 'quito',
    'egypt': 'cairo',
    'elsalvador': 'sansalvador',
    'equatorialguinea': 'malabo',
    'eritrea': 'asmara',
    'estonia': 'tallinn',
    'ethiopia': 'addisababa',
    'fiji': 'suva',
    'finland': 'helsinki',
    'france': 'paris',
    'gabon': 'libreville',
    'gambia': 'banjul',
    'georgia': 'tbilisi',
    'germany': 'berlin',
    'ghana': 'accra',
    'greece': 'athens',
    'grenada': 'saintgeorges',
    'guatemala': 'guatemalacity',
    'guinea': 'conakry',
    'guyana': 'georgetown',
    'haiti': 'portauprince',
    'honduras': 'tegucigalpa',
    'hungary': 'budapest',
    'iceland': 'reykjavik',
    'india': 'newdelhi',
    'indonesia': 'jakarta',
    'iran': 'tehran',
    'iraq': 'baghdad',
    'ireland': 'dublin',
    'israel': 'jerusalem',
    'italy': 'rome',
    'jamaica': 'kingston',
    'japan': 'tokyo',
    'jordan': 'amman',
    'kazakhstan': 'astana',
    'kenya': 'nairobi',
    'kiribati': 'tarawaatoll',
    'korea': 'seoul',
    'kosovo': 'pristina',
    'kuwait': 'kuwaitcity',
    'kyrgyzstan': 'bishkek',
    'laos': 'vientiane',
    'latvia': 'riga',
    'lebanon': 'beirut',
    'lesotho': 'maseru',
    'liberia': 'monrovia',
    'libya': 'tripoli',
    'liechtenstein': 'vaduz',
    'lithuania': 'vilnius',
    'luxembourg': 'luxembourg',
    'macedonia': 'skopje',
    'madagascar': 'antananarivo',
    'malawi': 'lilongwe',
    'malaysia': 'kualalumpur',
    'maldives': 'male',
    'mali': 'bamako',
    'malta': 'valletta',
    'marshallislands': 'majuro',
    'mauritania': 'nouakchott',
    'mauritius': 'portlouis',
    'mexico': 'mexicocity',
    'micronesia': 'palikir',
    'moldova': 'chisinau',
    'monaco': 'monaco',
    'mongolia': 'ulaanbaatar',
    'montenegro': 'podgorica',
    'morocco': 'rabat',
    'mozambique': 'maputo',
    'myanmar': 'rangoon',
    'namibia': 'windhoek',
    'nepal': 'kathmandu',
    'netherlands': 'amsterdam',
    'newzealand': 'wellington',
    'nicaragua': 'managua',
    'niger': 'niamey',
    'nigeria': 'abuja',
    'norway': 'oslo',
    'oman': 'muscat',
    'pakistan': 'islamabad',
    'palau': 'melekeok',
    'panama': 'panamacity',
    'papuanewguinea': 'portmoresby',
    'paraguay': 'asuncion',
    'peru': 'lima',
    'philippines': 'manila',
    'poland': 'warsaw',
    'portugal': 'lisbon',
    'qatar': 'doha',
    'romania': 'bucharest',
    'russia': 'moscow',
    'rwanda': 'kigali',
    'saintkitts': 'basseterre',
    'saintlucia': 'castries',
    'saintvincent': 'kingstown',
    'samoa': 'apia',
    'sanmarino': 'sanmarino',
    'saotome': 'saotome',
    'saudiarabia': 'riyadh',
    'senegal': 'dakar',
    'serbia': 'belgrade',
    'seychelles': 'victoria',
    'sierraleone': 'freetown',
    'singapore': 'singapore',
    'slovakia': 'bratislava',
    'slovenia': 'ljubljana',
    'solomonislands': 'honiara',
    'somalia': 'mogadishu',
    'southafrica': 'pretoria',
    'southsudan': 'juba',
    'spain': 'madrid',
    'srilanka': 'colombo',
    'sudan': 'khartoum',
    'suriname': 'paramaribo',
    'swaziland': 'mbabane',
    'sweden': 'stockholm',
    'switzerland': 'bern',
    'syria': 'damascus',
    'taiwan': 'taipei',
    'tajikistan': 'dushanbe',
    'tanzania': 'daressalaam',
    'thailand': 'bangkok',
    'togo': 'lome',
    'tonga': 'nukualofa',
    'trinidad': 'portofspain',
    'tunisia': 'tunis',
    'turkey': 'ankara',
    'turkmenistan': 'ashgabat',
    'tuvalu': 'vaiaku',
    'uganda': 'kampala',
    'ukraine': 'kyiv',
    'unitedarabemirates': 'abudhabi',
    'unitedkingdom': 'london',
    'unitedstatesofamerica': 'washington',
    'uruguay': 'montevideo',
    'uzbekistan': 'tashkent',
    'vanuatu': 'portvila',
    'venezuela': 'caracas',
    'vietnam': 'hanoi',
    'yemen': 'sanaa',
    'zambia': 'lusaka',
    'zimbabwe': 'harare',
}


if __name__ == '__main__':
    source, targets = parse_arguments()
    sock = bind_socket(BALANCER_IP, source)

    balancer = Balancer(sock, source, targets)
    
    for country, capital in countries.iteritems():
        balancer.read('set ' + country + ' ' + capital)
